<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro - Antagonista Merchstore</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
  <!-- Cabeçalho -->
  <header class="container">
    <div class="navbar">
      <div class="logo">
        <a href="index.html">
          <img src="images/logo antagonista.jpg" alt="Logo" width="100px">
        </a>
      </div>
      <nav>
        <ul id="MenuItems">
          <li><a href="index.html">Início</a></li>
          <li><a href="produtos.html">Produtos</a></li>
          <li><a href="sobre.html">Sobre</a></li>
          <li><a href="login.html">Conta</a></li>
        </ul>
      </nav>
      <a href="cart.html">
        <img src="images/carrinho de compra.jpg" alt="Carrinho" width="30" height="30">
      </a>
      <img src="images/menu.png" alt="Menu" class="menu-icon" onclick="toggleMenu()">
    </div>
  </header>

  <!-- Conteúdo Principal -->
  <main class="container account-page">
    <h1>Crie sua Conta</h1>
    <div class="form-container">
      <form id="registerForm">
        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" placeholder="Digite seu CPF" required>
        
        <label for="name">Nome:</label>
        <input type="text" id="name" name="name" placeholder="Digite seu nome" required>
        
        <label for="birthdate">Data de Nascimento:</label>
        <input type="date" id="birthdate" name="birthdate" required>
        
        <label for="tel">Telefone:</label>
        <input type="tel" id="tel" name="tel" placeholder="(XX) XXXXX-XXXX" required>
        
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="Digite seu email" required>
        
        <label for="password">Senha:</label>
        <input type="password" id="password" name="password" placeholder="Digite sua senha" required>
        
        <button type="submit" class="btn">Cadastrar</button>
      </form>
      <p>Já possui uma conta? <a href="login.html">Faça login aqui</a></p>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="footer-col-1">
          <h3>Baixe nosso aplicativo</h3>
          <p>Download para Android e iOS</p>
        </div>
        <div class="footer-col-2">
          <img src="images/logo antagonista.jpg" alt="Logo">
          <p>Nosso objetivo é fazer você sentir-se confortavelmente consigo mesmo.</p>
        </div>
        <div class="footer-col-3">
          <h3>Links úteis</h3>
          <ul>
            <li><a href="#">Afilie-se</a></li>
            <li><a href="#">Políticas de privacidade</a></li>
            <li><a href="#">Políticas de devolução</a></li>
            <li><a href="#">Cupons</a></li>
          </ul>
        </div>
        <div class="footer-col-4">
          <h3>Siga</h3>
          <ul>
            <li><a href="#">Instagram</a></li>
            <li><a href="#">Linktree</a></li>
            <li><a href="#">Youtube</a></li>
            <li><a href="#">Tiktok</a></li>
          </ul>
        </div>
      </div>
      <hr>
      <p class="copyright">Copyright 2025 - Antagonista</p>
    </div>
  </footer>

  <script src="main.js"></script>
  <script>
    // Exemplo básico para tratamento do formulário de cadastro
    document.getElementById('registerForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const cpf = document.getElementById('cpf').value;
      const name = document.getElementById('name').value;
      const birthdate = document.getElementById('birthdate').value;
      const tel = document.getElementById('tel').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      const payload = { cpf, name, birthdate, tel, email, password };
      
      try {
        const response = await fetch('/api/v1/auth/register', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const data = await response.json();
        if (!response.ok) {
          throw new Error(data.message || 'Erro no cadastro');
        }
        alert(data.message || 'Cadastro realizado com sucesso!');
        window.location.href = 'login.html';
      } catch (error) {
        alert('Erro: ' + error.message);
      }
    });
  </script>
</body>
</html>
